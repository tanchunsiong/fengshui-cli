<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Today's Chinese Almanac | Feng Shui Daily</title>
    <meta name="description" content="Free daily Chinese almanac (é€šèƒœ/é»„å†) with auspicious activities, lucky directions, and traditional wisdom.">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;600;700&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --gold: #c9a227;
            --gold-light: #e8d48a;
            --red: #a32020;
            --red-light: #d64545;
            --green: #2d6a4f;
            --bg-dark: #1a1a2e;
            --bg-card: #16213e;
            --text-primary: #eee;
            --text-secondary: #aaa;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', -apple-system, sans-serif;
            background: linear-gradient(135deg, var(--bg-dark) 0%, #0f0f23 100%);
            min-height: 100vh;
            color: var(--text-primary);
            padding: 2rem 1rem;
        }
        
        .container {
            max-width: 480px;
            margin: 0 auto;
        }
        
        .header {
            text-align: center;
            margin-bottom: 2rem;
        }
        
        .date-western {
            font-size: 0.9rem;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 2px;
        }
        
        .date-chinese {
            font-family: 'Noto Serif SC', serif;
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--gold);
            margin: 0.5rem 0;
            text-shadow: 0 2px 10px rgba(201, 162, 39, 0.3);
        }
        
        .ganzhi {
            font-family: 'Noto Serif SC', serif;
            font-size: 1.1rem;
            color: var(--gold-light);
            opacity: 0.8;
        }
        
        .card {
            background: var(--bg-card);
            border-radius: 16px;
            padding: 1.5rem;
            margin-bottom: 1rem;
            border: 1px solid rgba(201, 162, 39, 0.2);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        }
        
        .card-title {
            font-size: 0.8rem;
            text-transform: uppercase;
            letter-spacing: 1.5px;
            color: var(--text-secondary);
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .element-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            background: linear-gradient(135deg, rgba(201, 162, 39, 0.2), rgba(201, 162, 39, 0.1));
            padding: 0.75rem 1.25rem;
            border-radius: 50px;
            font-size: 1.2rem;
            color: var(--gold);
            border: 1px solid var(--gold);
        }
        
        .element-icon {
            font-size: 1.5rem;
        }
        
        .element-name {
            font-family: 'Noto Serif SC', serif;
            font-weight: 600;
        }
        
        .activities-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }
        
        .activity-column h4 {
            font-size: 0.9rem;
            margin-bottom: 0.75rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .activity-column.good h4 { color: var(--green); }
        .activity-column.avoid h4 { color: var(--red-light); }
        
        .activity-list {
            list-style: none;
        }
        
        .activity-list li {
            font-size: 0.95rem;
            padding: 0.5rem 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .activity-list li:last-child {
            border-bottom: none;
        }
        
        .activity-column.good .activity-list li::before {
            content: 'âœ“';
            color: var(--green);
        }
        
        .activity-column.avoid .activity-list li::before {
            content: 'âœ—';
            color: var(--red-light);
        }
        
        .directions-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1rem;
            text-align: center;
        }
        
        .direction-item {
            background: rgba(255, 255, 255, 0.05);
            padding: 1rem;
            border-radius: 12px;
        }
        
        .direction-icon {
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
        }
        
        .direction-label {
            font-size: 0.75rem;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .direction-value {
            font-family: 'Noto Serif SC', serif;
            font-size: 1rem;
            color: var(--gold-light);
            margin-top: 0.25rem;
        }
        
        .clash-warning {
            background: linear-gradient(135deg, rgba(163, 32, 32, 0.2), rgba(163, 32, 32, 0.1));
            border: 1px solid var(--red);
            border-radius: 12px;
            padding: 1rem;
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        
        .clash-icon {
            font-size: 2rem;
        }
        
        .clash-text {
            font-size: 0.9rem;
        }
        
        .clash-zodiac {
            color: var(--red-light);
            font-weight: 600;
        }
        
        .pengzu {
            font-family: 'Noto Serif SC', serif;
            font-size: 0.95rem;
            line-height: 1.8;
            color: var(--text-secondary);
            font-style: italic;
        }
        
        .solar-term {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.5rem 0;
        }
        
        .solar-term-label {
            font-size: 0.85rem;
            color: var(--text-secondary);
        }
        
        .solar-term-value {
            font-family: 'Noto Serif SC', serif;
            color: var(--gold-light);
        }
        
        .footer {
            text-align: center;
            margin-top: 2rem;
            padding-top: 1.5rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .footer-logo {
            font-family: 'Noto Serif SC', serif;
            font-size: 1.1rem;
            color: var(--gold);
            margin-bottom: 0.5rem;
        }
        
        .footer-links {
            font-size: 0.8rem;
            color: var(--text-secondary);
        }
        
        .footer-links a {
            color: var(--gold-light);
            text-decoration: none;
        }
        
        .footer-links a:hover {
            text-decoration: underline;
        }
        
        .loading {
            text-align: center;
            padding: 3rem;
            color: var(--text-secondary);
        }
        
        .spinner {
            width: 40px;
            height: 40px;
            border: 3px solid rgba(201, 162, 39, 0.2);
            border-top-color: var(--gold);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 1rem;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        @media (max-width: 400px) {
            .date-chinese {
                font-size: 2rem;
            }
            .activities-grid {
                grid-template-columns: 1fr;
            }
            .directions-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container" id="app">
        <div class="loading">
            <div class="spinner"></div>
            <p>Loading today's almanac...</p>
        </div>
    </div>

    <script>
        const elementEmoji = {
            'Wood': 'ğŸŒ³', 'Fire': 'ğŸ”¥', 'Earth': 'ğŸ”ï¸', 'Metal': 'ğŸ”©', 'Water': 'ğŸ’§'
        };
        
        const zodiacEmoji = {
            'Rat': 'ğŸ€', 'Ox': 'ğŸ‚', 'Tiger': 'ğŸ…', 'Rabbit': 'ğŸ‡',
            'Dragon': 'ğŸ‰', 'Snake': 'ğŸ', 'Horse': 'ğŸ', 'Goat': 'ğŸ',
            'Monkey': 'ğŸ’', 'Rooster': 'ğŸ“', 'Dog': 'ğŸ•', 'Pig': 'ğŸ–'
        };
        
        const chineseZodiacMap = {
            'é¼ ': 'Rat', 'ç‰›': 'Ox', 'è™': 'Tiger', 'å…”': 'Rabbit',
            'é¾™': 'Dragon', 'è›‡': 'Snake', 'é©¬': 'Horse', 'ç¾Š': 'Goat',
            'çŒ´': 'Monkey', 'é¸¡': 'Rooster', 'ç‹—': 'Dog', 'çŒª': 'Pig'
        };
        
        // Static data - will be replaced by build script
        const ALMANAC_DATA = {
  "solar": {
    "date": "2026-02-04",
    "year": 2026,
    "month": 2,
    "day": 4,
    "weekday": "ä¸‰",
    "weekdayEn": "Wednesday",
    "constellation": "æ°´ç“¶"
  },
  "lunar": {
    "year": 2025,
    "month": 12,
    "day": 17,
    "monthCn": "è…Š",
    "dayCn": "åä¸ƒ",
    "ganZhiYear": "ä¹™å·³",
    "ganZhiMonth": "åºšå¯…",
    "ganZhiDay": "å·±é…‰",
    "ganZhiHour": "ç”²å­",
    "zodiac": "è›‡",
    "zodiacEn": "Snake",
    "isLeapMonth": false
  },
  "elements": {
    "yearNaYin": "è¦†ç¯ç«",
    "yearNaYinElement": "Fire",
    "monthNaYin": "æ¾æŸæœ¨",
    "monthNaYinElement": "Wood",
    "dayNaYin": "å¤§é©¿åœŸ",
    "dayNaYinElement": "Earth",
    "dayStem": "å·±",
    "dayElement": "Earth",
    "dayElementCn": "åœŸ"
  },
  "activities": {
    "yi": [
      "ç¥­ç¥€",
      "ç¥ˆç¦",
      "æ±‚å—£",
      "å¼€å…‰",
      "å‡ºç«",
      "å‡ºè¡Œ",
      "æ‹†å¸",
      "ä¿®é€ ",
      "åŠ¨åœŸ",
      "å…¥å®…",
      "ç§»å¾™",
      "ä¸Šæ¢",
      "æŒ‚åŒ¾",
      "å¼€æ± ",
      "å…¥æ®“",
      "å®‰è‘¬",
      "ç ´åœŸ",
      "å¯é’»"
    ],
    "ji": [
      "å«å¨¶",
      "ä½œç¶",
      "å®‰åºŠ"
    ],
    "yiEn": [
      "Sacrifices/Worship",
      "Praying",
      "Seeking Children",
      "Consecration",
      "å‡ºç«",
      "Traveling",
      "æ‹†å¸",
      "Renovating",
      "Starting Construction",
      "Moving In",
      "Moving/Relocating",
      "Raising Beam",
      "æŒ‚åŒ¾",
      "å¼€æ± ",
      "Placing in Coffin",
      "Burial",
      "Breaking Ground",
      "Opening Grave"
    ],
    "jiEn": [
      "Wedding",
      "ä½œç¶",
      "Installing Bed"
    ]
  },
  "gods": {
    "xiShen": {
      "direction": "è‰®",
      "desc": "ä¸œåŒ—",
      "directionEn": "Northeast (Gen)"
    },
    "fuShen": {
      "direction": "å",
      "desc": "æ­£åŒ—",
      "directionEn": "North (Kan)"
    },
    "caiShen": {
      "direction": "å",
      "desc": "æ­£åŒ—",
      "directionEn": "North (Kan)"
    }
  },
  "clash": {
    "chong": "å¯",
    "chongDesc": "(ç™¸å¯)å…”",
    "sha": "ä¸œ",
    "shaEn": "East"
  },
  "solarTerms": {
    "current": "ç«‹æ˜¥",
    "prev": "å¤§å¯’",
    "prevDate": "2026-01-20",
    "next": "ç«‹æ˜¥",
    "nextDate": "2026-02-04"
  },
  "pengZu": {
    "gan": "å·±ä¸ç ´åˆ¸äºŒæ¯”å¹¶äº¡",
    "zhi": "é…‰ä¸ä¼šå®¢é†‰åé¢ ç‹‚"
  },
  "festivals": {
    "lunar": [],
    "solar": []
  }
};
        
        function formatDate(dateStr) {
            const d = new Date(dateStr);
            return d.toLocaleDateString('en-US', { 
                weekday: 'long', 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric' 
            });
        }
        
        function getChineseDate(data) {
            return `${data.lunar.monthCn}æœˆ${data.lunar.dayCn}`;
        }
        
        function render(data) {
            const element = data.elements.dayElement;
            const emoji = elementEmoji[element] || 'â˜¯ï¸';
            
            // Extract zodiac from clash description
            const clashDesc = data.clash.chongDesc;
            const zodiacChar = clashDesc.match(/[é¼ ç‰›è™å…”é¾™è›‡é©¬ç¾ŠçŒ´é¸¡ç‹—çŒª]/)?.[0];
            const zodiacEn = zodiacChar ? chineseZodiacMap[zodiacChar] : '';
            const zodiacIcon = zodiacEn ? zodiacEmoji[zodiacEn] : '';
            
            document.getElementById('app').innerHTML = `
                <header class="header">
                    <p class="date-western">${formatDate(data.solar.date)}</p>
                    <h1 class="date-chinese">${getChineseDate(data)}</h1>
                    <p class="ganzhi">${data.lunar.ganZhiYear}å¹´ ${data.lunar.ganZhiMonth}æœˆ ${data.lunar.ganZhiDay}æ—¥</p>
                </header>
                
                <div class="card">
                    <div class="card-title">â˜¯ï¸ Today's Element</div>
                    <div class="element-badge">
                        <span class="element-icon">${emoji}</span>
                        <span class="element-name">${element} Â· ${data.elements.dayNaYin}</span>
                    </div>
                </div>
                
                <div class="card">
                    <div class="card-title">ğŸ“‹ Activities</div>
                    <div class="activities-grid">
                        <div class="activity-column good">
                            <h4>âœ¨ Auspicious</h4>
                            <ul class="activity-list">
                                ${data.activities.yiEn.slice(0, 4).map(a => `<li>${a}</li>`).join('')}
                            </ul>
                        </div>
                        <div class="activity-column avoid">
                            <h4>âš ï¸ Avoid</h4>
                            <ul class="activity-list">
                                ${data.activities.jiEn.slice(0, 4).map(a => `<li>${a}</li>`).join('')}
                            </ul>
                        </div>
                    </div>
                </div>
                
                <div class="card">
                    <div class="card-title">ğŸ§­ Lucky Directions</div>
                    <div class="directions-grid">
                        <div class="direction-item">
                            <div class="direction-icon">ğŸ’°</div>
                            <div class="direction-label">Wealth</div>
                            <div class="direction-value">${data.gods.caiShen.directionEn}</div>
                        </div>
                        <div class="direction-item">
                            <div class="direction-icon">ğŸ˜Š</div>
                            <div class="direction-label">Joy</div>
                            <div class="direction-value">${data.gods.xiShen.directionEn}</div>
                        </div>
                        <div class="direction-item">
                            <div class="direction-icon">ğŸ€</div>
                            <div class="direction-label">Fortune</div>
                            <div class="direction-value">${data.gods.fuShen.directionEn}</div>
                        </div>
                    </div>
                </div>
                
                <div class="card">
                    <div class="card-title">âš”ï¸ Zodiac Clash</div>
                    <div class="clash-warning">
                        <div class="clash-icon">${zodiacIcon || 'âš ï¸'}</div>
                        <div class="clash-text">
                            Those born in <span class="clash-zodiac">${clashDesc}</span> year should take extra care today.
                            <br><small>Sha direction: ${data.clash.shaEn}</small>
                        </div>
                    </div>
                </div>
                
                <div class="card">
                    <div class="card-title">ğŸ“œ Ancient Wisdom</div>
                    <p class="pengzu">${data.pengZu.gan}</p>
                    <p class="pengzu">${data.pengZu.zhi}</p>
                </div>
                
                ${data.solarTerms.next ? `
                <div class="card">
                    <div class="card-title">ğŸŒ¸ Solar Terms</div>
                    <div class="solar-term">
                        <span class="solar-term-label">Next: ${data.solarTerms.next}</span>
                        <span class="solar-term-value">${data.solarTerms.nextDate}</span>
                    </div>
                </div>
                ` : ''}
                
                <footer class="footer">
                    <div class="footer-logo">é€šèƒœ Â· Chinese Almanac</div>
                    <p class="footer-links">
                        Powered by <a href="https://github.com/tanchunsiong/fengshui-cli" target="_blank">fengshui-cli</a>
                        <br>Â© ${new Date().getFullYear()} Â· Updates daily at midnight SGT
                    </p>
                </footer>
            `;
        }
        
        // Render immediately with static data
        if (ALMANAC_DATA && ALMANAC_DATA.solar) {
            render(ALMANAC_DATA);
        } else {
            document.getElementById('app').innerHTML = `
                <div class="loading">
                    <p>âš ï¸ Data not available. Please check back later.</p>
                </div>
            `;
        }
    </script>
</body>
</html>
